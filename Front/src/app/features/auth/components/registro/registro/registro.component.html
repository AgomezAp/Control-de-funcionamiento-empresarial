<div class="auth-container">
  <div class="auth-card">
    <div class="auth-header">
      <i class="pi pi-user-plus logo-icon"></i>
      <h1>Crear Cuenta</h1>
      <p>Completa el formulario para registrarte</p>
    </div>

    <p-card>
      <form [formGroup]="registroForm" (ngSubmit)="onSubmit()">
        <!-- Nombre Completo -->
        <div class="form-group">
          <label for="nombre_completo">Nombre Completo</label>
          <input 
            id="nombre_completo"
            type="text" 
            pInputText 
            formControlName="nombre_completo"
            placeholder="Juan Pérez"
            class="w-full"
          />
          <small class="p-error" *ngIf="hasError('nombre_completo', 'required')">
            El nombre completo es requerido
          </small>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="correo">Correo electrónico</label>
          <input 
            id="correo"
            type="email" 
            pInputText 
            formControlName="correo"
            placeholder="correo@ejemplo.com"
            class="w-full"
          />
          <small class="p-error" *ngIf="hasError('correo', 'required')">
            El correo es requerido
          </small>
          <small class="p-error" *ngIf="hasError('correo', 'email')">
            Ingresa un correo válido
          </small>
        </div>

        <!-- Contraseña -->
        <div class="form-group">
          <label for="contrasena">Contraseña</label>
          <p-password 
            id="contrasena"
            formControlName="contrasena"
            placeholder="••••••••"
            [toggleMask]="true"
            styleClass="w-full"
            inputStyleClass="w-full"
          ></p-password>
          <small class="p-error" *ngIf="hasError('contrasena', 'required')">
            La contraseña es requerida
          </small>
          <small class="p-error" *ngIf="hasError('contrasena', 'minlength')">
            La contraseña debe tener al menos 6 caracteres
          </small>
        </div>

        <!-- Confirmar Contraseña -->
        <div class="form-group">
          <label for="confirmar_contrasena">Confirmar Contraseña</label>
          <p-password 
            id="confirmar_contrasena"
            formControlName="confirmar_contrasena"
            placeholder="••••••••"
            [toggleMask]="true"
            [feedback]="false"
            styleClass="w-full"
            inputStyleClass="w-full"
          ></p-password>
          <small class="p-error" *ngIf="hasError('confirmar_contrasena', 'required')">
            Debes confirmar la contraseña
          </small>
        </div>

        <!-- Rol -->
        <div class="form-group">
          <label for="rol_id">Rol</label>
          <p-dropdown 
            id="rol_id"
            formControlName="rol_id"
            [options]="roles"
            placeholder="Selecciona un rol"
            styleClass="w-full"
          ></p-dropdown>
          <small class="p-error" *ngIf="hasError('rol_id', 'required')">
            El rol es requerido
          </small>
        </div>

        <!-- Área -->
        <div class="form-group">
          <label for="area_id">Área</label>
          <p-dropdown 
            id="area_id"
            formControlName="area_id"
            [options]="areas"
            placeholder="Selecciona un área"
            styleClass="w-full"
          ></p-dropdown>
          <small class="p-error" *ngIf="hasError('area_id', 'required')">
            El área es requerida
          </small>
        </div>

        <!-- Submit Button -->
        <button 
          pButton 
          type="submit" 
          label="Registrarse"
          icon="pi pi-user-plus"
          class="w-full"
          [loading]="loading"
          [disabled]="registroForm.invalid || loading"
        ></button>

        <!-- Login Link -->
        <div class="login-link">
          <p>¿Ya tienes cuenta? 
            <a routerLink="/auth/login">Inicia sesión aquí</a>
          </p>
        </div>
      </form>
    </p-card>
  </div>
</div>