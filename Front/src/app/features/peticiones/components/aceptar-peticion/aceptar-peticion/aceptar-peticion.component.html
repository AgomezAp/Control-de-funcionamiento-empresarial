<div class="container-aceptar">
  <app-loader *ngIf="loading"></app-loader>

  <div *ngIf="!loading && peticion" class="content-wrapper">
    <div class="peticion-card">
      <!-- Header -->
      <div class="card-header">
        <h2 class="header-title">
          <i class="pi pi-check-circle" style="color: #4caf50"></i>
          <span>Aceptar Petición</span>
        </h2>
      </div>

      <!-- Contenido Principal -->
      <div class="card-content">
        <!-- Resumen de la Petición -->
        <div class="peticion-summary">
          <h3 class="section-title">
            <i class="pi pi-info-circle" style="color: #ffd700"></i>
            Resumen de la Petición
          </h3>

          <div class="summary-grid">
            <div class="summary-item">
              <span class="label">
                <i class="pi pi-hashtag"></i>
                ID
              </span>
              <span class="value id-value">#{{ peticion.id }}</span>
            </div>

            <div class="summary-item">
              <span class="label">
                <i class="pi pi-flag"></i>
                Estado
              </span>
              <span class="badge badge-info">{{ peticion.estado }}</span>
            </div>

            <div class="summary-item">
              <span class="label">
                <i class="pi pi-user"></i>
                Cliente
              </span>
              <span class="value">{{ peticion.cliente?.nombre }}</span>
            </div>

            <div class="summary-item">
              <span class="label">
                <i class="pi pi-tag"></i>
                Categoría
              </span>
              <span class="value">{{ peticion.categoria?.nombre }}</span>
            </div>

            <div class="summary-item full-width">
              <span class="label">
                <i class="pi pi-align-left"></i>
                Descripción
              </span>
              <span class="value description">{{ peticion.descripcion }}</span>
            </div>

            <div class="summary-item highlight">
              <span class="label">
                <i class="pi pi-dollar"></i>
                Costo
              </span>
              <span class="value costo">{{
                peticion.costo | currencyCop
              }}</span>
            </div>
          </div>
        </div>

        <!-- Información del Temporizador -->
        <div class="info-section">
          <div class="info-message">
            <div class="info-icon">
              <i class="pi pi-clock" style="color: #ff9800"></i>
            </div>
            <div class="info-text">
              <h4>Inicio Automático del Temporizador</h4>
              <p>
                Al aceptar esta petición, el temporizador iniciará
                automáticamente para registrar el tiempo empleado en su
                desarrollo.
              </p>
            </div>
          </div>
        </div>

        <!-- Botones de acción -->
        <div class="actions-footer">
          <button
            class="btn btn-cancel"
            type="button"
            (click)="cancelar()"
            [disabled]="submitting"
          >
            <i class="pi pi-times"></i>
            <span>Cancelar</span>
          </button>

          <button
            class="btn btn-accept"
            type="button"
            (click)="aceptar()"
            [disabled]="submitting"
          >
            <i class="pi pi-check" *ngIf="!submitting"></i>
            <i class="pi pi-spin pi-spinner" *ngIf="submitting"></i>
            <span>{{ submitting ? "Aceptando..." : "Aceptar Petición" }}</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
