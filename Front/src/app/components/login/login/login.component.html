<div class="auth-container">
  <div class="auth-card">
    <!-- Header -->
    <div class="auth-header">
      <i class="pi pi-box logo-icon"></i>
      <h1>Sistema de Gestión de Peticiones</h1>
    </div>

    <p-card>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <!-- Email -->
        <div class="form-group">
          <label for="correo">Correo electrónico</label>
          <div class="input-wrapper">
            <i class="pi pi-envelope input-icon"></i>
            <input
              id="correo"
              type="email"
              pInputText
              formControlName="correo"
              placeholder="correo@ejemplo.com"
              class="custom-input"
              [class.input-error]="
                hasError('correo', 'required') || hasError('correo', 'email')
              "
            />
          </div>
          <small
            class="error-message"
            *ngIf="
              hasError('correo', 'required') || hasError('correo', 'email')
            "
          >
            {{
              hasError("correo", "required")
                ? "El correo es requerido"
                : "Ingresa un correo válido"
            }}
          </small>
        </div>

        <!-- Password -->
        <div class="form-group">
          <label for="contrasena">Contraseña</label>
          <div class="input-wrapper password-container">
            <i class="pi pi-lock input-icon"></i>
            <input
              id="contrasena"
              [type]="showPassword ? 'text' : 'password'"
              pInputText
              formControlName="contrasena"
              placeholder="••••••••"
              class="custom-input password-field"
              [class.input-error]="
                hasError('contrasena', 'required') ||
                hasError('contrasena', 'minlength')
              "
            />
            <i
              [class]="showPassword ? 'pi pi-eye-slash' : 'pi pi-eye'"
              class="password-toggle"
              (click)="togglePassword()"
            ></i>
          </div>
          <small
            class="error-message"
            *ngIf="
              hasError('contrasena', 'required') ||
              hasError('contrasena', 'minlength')
            "
          >
            {{
              hasError("contrasena", "required")
                ? "La contraseña es requerida"
                : "Mínimo 6 caracteres"
            }}
          </small>
        </div>

        <!-- Remember & Forgot -->
        <div class="form-options">
          <div class="checkbox-wrapper">
            <p-checkbox
              formControlName="recordar"
              [binary]="true"
              inputId="recordar"
            ></p-checkbox>
            <label for="recordar" class="checkbox-label">Recordarme</label>
          </div>
          <a routerLink="/auth/recuperar-password" class="forgot-link">
            ¿Olvidaste tu contraseña?
          </a>
        </div>

        <!-- Submit Button -->
        <button
          pButton
          type="submit"
          label="Iniciar Sesión"
          icon="pi pi-sign-in"
          class="submit-btn"
          [loading]="loading"
          [disabled]="loginForm.invalid || loading"
        ></button>

        <!-- Register Link -->
      <!--   <div class="register-link">
          ¿No tienes cuenta?
          <a routerLink="/auth/registro">Regístrate aquí</a>
        </div> -->
      </form>
    </p-card>
  </div>
  <p-toast></p-toast>
</div>
